<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Options Page :: External Application Launcher</title>
  <link rel="icon" type="image/png" href="/data/icons/64.png">
  <link rel="stylesheet" href="index.css">
</head>
<body>
   <div vbox>
    <table id="app" class="tb">
      <colgroup>
        <col>
        <col>
        <col>
      </colgroup>
      <tr>
        <td colspan="3"><h3>Application Setup</h3></td>
      </tr>
      <tr>
        <td>Display Name</td>
        <td colspan="2"><input type="text" data-id="name"></td>
      </tr>
      <tr>
        <td>Executable Name</td>
        <td><input type="text" placeholder="Absolute path of the executable. To skip, fill the box with '[SKIP]' keyword." data-id="path"></td>
        <td>
          <div class="placeholder">&nbsp;Examples
            <ul>
              <li data-name="Open in Firefox" data-path="%ProgramFiles%\Mozilla Firefox\firefox.exe" data-args="[HREF]"  data-cmd="example">Open in Firefox (Windows)</li>
              <li data-name="Open in Firefox" data-path="open" data-args="-a firefox [HREF]"  data-cmd="example">Open in Firefox (Mac)</li>
              <li data-name="Open in Firefox" data-path="firefox" data-args="[HREF]"  data-cmd="example">Open in Firefox (Linux)</li>
              <li data-name="Open in VLC" data-path="%ProgramFiles%\VideoLAN\VLC\vlc.exe" data-args="[HREF]"  data-cmd="example">Open in VLC (Windows)</li>
              <li data-name="Open in VLC" data-path="open" data-args="-a VLC [HREF]"  data-cmd="example">Open in VLC (Mac)</li>
              <li data-name="Open in VLC" data-path="vlc" data-args="[HREF]"  data-cmd="example">Open in VLC (Linux)</li>
            </ul>
          </div>
        </td>
      </tr>
      <tr>
        <td></td>
        <td colspan="2">
          <div colspan="2" class="note">If the application is known by the PATH environment variable, there is no need to enter its absolute path.</div>
        </td>
      </tr>
      <tr>
        <td>Arguments</td>
        <td>
          <input type="text" placeholder="Command-line arguments for the executable. Add @stdin to send the variable to the process's standard input." data-id="arguments">
        </td>
        <td>
          <div class="placeholder">&nbsp;Reserved
            <ul>
              <li data-value="[HREF]" data-cmd="insert" title="Entire URL (page, image, ...)">Entire URL (page, image, ...)</li>
              <li data-value="[TITLE]" data-cmd="insert" title="Page Title">Page Title</li>
              <li data-value="[HOSTNAME]" data-cmd="insert" title="URL's host-name">URL's host-name</li>
              <li data-value="[PATHNAME]" data-cmd="insert" title="URL's path-name">URL's path-name</li>
              <li data-value="[HASH]" data-cmd="insert" title="URL's hash tag">URL's hash tag</li>
              <li data-value="[PROTOCOL]" data-cmd="insert" title="URL's protocol (http, https, ftp)">URL's protocol (http, https, ftp)</li>
              <li data-value="[SELECTIONTEXT]" data-cmd="insert" title="Selection Text (context menu)">Selection Text (context menu)</li>
              <li data-value="[DOWNLOADED_PATH]" data-cmd="insert" title="Download then insert local path">Download then insert local path</li>
              <li data-value="[PROMPT|Message|Value]" data-cmd="insert" chrome title="Ask for user input">Ask for user input</li>
              <li data-value="[REFERRER]" data-cmd="insert" title="Get referrer from the active tab">Get referrer from the active tab</li>
              <li data-value="[USERAGENT]" data-cmd="insert" title="Get User-Agent from the active tab">Get User-Agent from the active tab</li>
              <li data-value="[COOKIE]" data-cmd="insert" title="Get cookie from the active tab">Get cookie from the active tab</li>
              <li data-value="[PRE_SCRIPT]" data-cmd="insert" title="Get the output of the pre-script">Get the output of the pre-script</li>
              <li data-value="[PRE_SCRIPT:0]" data-cmd="insert" title="Get the first output of the pre-script array">Get the first output of the pre-script array</li>
              <li data-value="[PRE_SCRIPT:1]" data-cmd="insert" title="Get the second output of the pre-script array">Get the second output of the pre-script array</li>
              <li data-value="[EXTRA]" data-cmd="insert" title="Insert extra info in JSON format encoded in base64">Extra info</li>
            </ul>
          </div>
        </td>
      </tr>
      <tr>
        <td><a data-href="faq28" target="_blank">Pre JavaScript</a></td>
        <td colspan="2">
          <textarea rows="5" placeholder="Execute a JS code on the current frame element before the external application is called. This can be used to extract some data from the frame. Use the [PRE_SCRIPT] keyword to pass this variable to the external application." data-id="pre"></textarea>
        </td>
      </tr>
      <tr>
        <td>Post JavaScript</td>
        <td colspan="2">
          <textarea rows="5" type="text" placeholder="Execute a JS code on the current frame element after the external application is called. The [POST_SCRIPT_CODE] (return code by native app), [POST_SCRIPT_STDOUT] (stdout of the native app), and [POST_SCRIPT_STDERR] (stderror of the native app) keywords will be replaced in your JS code with the equivalents." data-id="post"></textarea>
        </td>
      </tr>
      <tr>
        <td>Placement</td>
        <td colspan="2">
          <div id="placement">
            <table>
              <colgroup id="innerc">
                <col>
                <col>
              </colgroup>
              <tr>
                <td><label style="padding-bottom: 10px;"><input type="checkbox" data-id="toolbar"> Toolbar button</label></td>
                <td></td>
              </tr>
              <tr>
                <td><label>Context Menu<sup>1</sup></label></td>
                <td data-id="context">
                  <table>
                    <colgroup>
                      <col width="20">
                      <col>
                    </colgroup>
                    <tr>
                      <td><input type="checkbox" value="page" id="sub-1"></td>
                      <td><label for="sub-1">Page Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="frame" id="sub-2"></td>
                      <td><label for="sub-2">Frame Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="selection" id="sub-3"></td>
                      <td><label for="sub-3">Selection Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="password" id="sub-9"></td>
                      <td><label for="sub-9">Password Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="link" id="sub-4"></td>
                      <td><label for="sub-4">Link Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="image" id="sub-5"></td>
                      <td><label for="sub-5">Image Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="video" id="sub-6"></td>
                      <td><label for="sub-6">Video Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="audio" id="sub-7"></td>
                      <td><label for="sub-7">Audio Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="tab" id="sub-8"></td>
                      <td><label for="sub-8">Tab Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="editable" id="sub-11"></td>
                      <td><label for="sub-11">Editable Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="folder_pane" id="sub-12"></td>
                      <td><label for="sub-12">Folder Pane Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="message_list" id="sub-13"></td>
                      <td><label for="sub-13">Message List Context</label></td>
                    </tr>
                    <tr>
                      <td><input type="checkbox" value="all" id="sub-14"></td>
                      <td><label for="sub-14">All Contexts</label></td>
                    </tr>
                    <tr>
                      <td colspan="2"><input data-id="pattern" type="text" placeholder="target pattern (*://*/*, ftp://*/*, file://*/*)"></td>
                    </tr>
                    <tr><td colspan="2">
                      <div class="note" style="margin: 5px 0;">Restricts the item appearance based on the src attribute of "img", "audio", and "video" tags and the href attribute of "a" tags. By having a wrong pattern in this list, your browser prevents context menu creation.</div>
                    </td></tr>
                    <tr>
                      <td colspan="2"><input data-id="filters" type="text" placeholder="page pattern (*://*/*, file://*/*)"></td>
                    </tr>
                    <tr>
                      <td colspan="2">
                        <div class="note" style="margin: 5px 0;">Restricts the item appearance to apply only to documents or frames whose URL matches one of the given patterns. To match local and remote pages use "&lt;all_urls&gt;" keyword. By having a wrong pattern in this list, your browser prevents context menu creation.</div>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr>
                <td><label style="margin-top: 10px;"><input type="checkbox" data-id="navigation"> Navigation</label></td>
                <td><input style="margin-top: 10px;" data-id="redirects" type="text" placeholder="target pattern (e.g.: *.pdf, *.google.com/*)"></td>
              </tr>
              <tr>
                <td colspan="2">
                  <div class="note" style="margin: 5px 0;">Calls the external application instead of the normal navigation if a filter in this list matches the pattern of the link. This feature does not work on Firefox.</div>
                </td>
              </tr>
              <tr>
                <td><label style="margin-top: 10px;">Position</label></td>
                <td><input style="margin-top: 10px;" data-id="index" type="number" placeholder="Placement index (e.g.: 1, 2, 3, ...)" min="1"></td>
              </tr>
              <tr>
                <td colspan="2">
                  <div class="note" style="margin: 5px 0;">The position determines the item's position in the context menu. Items with lower indices appear at the top of the context menu, while those with higher indices are placed further down.</div>
                </td>
              </tr>
            </table>
          </div>
        </td>
      </tr>
      <tr>
        <td><a target="_blank" href="https://www.iconfinder.com/search/?q=browser&minimum=32&maximum=32&price=free">Icon</a> (32x32)</td>
        <td colspan="2"><input type="file" data-id="icon"></td>
      </tr>
      <tr>
        <td>Ignore Errors</td>
        <td colspan="2">
          <label><input type="checkbox" data-id="errors"> Do not alert application errors</label>
        </td>
      </tr>
      <tr>
        <td>Quotation</td>
        <td colspan="2">
          <label><input type="checkbox" data-id="quotes"> Surround arguments with quote characters</label>
        </td>
      </tr>
      <tr>
        <td>Close Tab</td>
        <td colspan="2">
          <label><input type="checkbox" data-id="closeme"> Close the source tab when command is executed</label>
        </td>
      </tr>
      <tr>
        <td>Window</td>
        <td colspan="2">
          <label> Change window state to&nbsp;<select data-id="changestate">
              <option value="">Do not alter</option>
              <option value="normal">Normal</option>
              <option value="minimized">Minimized</option>
              <option value="maximized">Maximized</option>
              <option value="fullscreen">Fullscreen</option>
            </select>
          </label>
        </td>
      </tr>
    </table>
    <div>
      <div style="margin-bottom: 10px;">
        <input type="button" value="Import Settings" id="import">
        <input type="button" value="Export Settings" id="export">
      </div>
      <div class="note" style="margin-bottom: 10px;">Import Settings: This will overwrite all the current settings. Like factory reset before applying the new settings. Make sure to backup your current settings before using this option.</div>
      <div style="margin-bottom: 10px;">
        <input type="button" value="Support Development" id="support">
        <input type="button" value="Open FAQs page" id="ofq">
        <input type="button" value="Tabs Permission" id="tabs" title="Use this button to allow the extension to access browser tabs even when the tab is not focused. This is useful if you want to use triggers on download start or end to run external applications.">
        <span id="message" style="float: right;"></span>
      </div>
      <div>
        <input type="button" value="Test Arguments Validity" data-cmd="test" id="test" title="See the actual list of arguments that is sent to the external executable">
        <input type="button" value="Clear Blocked List" data-cmd="clear" id="clear" title="This will clear the blocked list of extensions that want to send commands using this extension">
        <input type="button" value="Manage Triggers" data-cmd="triggers" id="triggers" title="Manage triggers to open external applications">
      </div>
      <div class="note" style="margin-top: 10px;">Test Arguments Validity: Each row must display a single argument. Use '"' character (if an argument has one or more special characters like spaces) to adjust the argument list such that each row displays just a "single" argument.

Clear Blocked List: This extension allows other extensions/applications to run native commands after the user accepts the request. This list contains the extension IDs that already requested the permission to run native commands and the user rejected the request. So these extensions are being blocked from running native commands.</div>
    </div>
  </div>
  <div style="margin: 10px 0;">
    <input type="button" value="Add Application" data-cmd="add" id="add" style="float: right">
  </div>
  <div hbox pack=center class="gap">
    <span>List of applications:</span>
    <select flex="1" id="list"></select>
    <input type="button" value="Remove" disabled="true" id="remove" data-cmd="remove">
  </div>
  <div class="note" style="margin-top: 10px">To change the active application in the browser toolbar area, use the right-click context menu over the toolbar button.</div>
  <table class="tb">
    <colgroup>
      <col width=130>
      <col>
      <col width="74">
    </colgroup>
    <tr>
      <td colspan="3"><h3>Misc</h3></td>
    </tr>
    <tr>
      <td>FAQs page</td>
      <td colspan="2">
        <label><input type="checkbox" id="faqs"> Open FAQs page on updates</label>
      </td>
    </tr>
    <tr>
      <td>External access</td>
      <td colspan="2">
        <label><input type="checkbox" id="exaccess"> Allow other extensions to run native commands (<b>use with caution</b>) (you will get a confirmation box on every new requests)</label>
      </td>
    </tr>
  </table>
  <hr>
  <p class="notes">
    1. This is a comma-separated list of <a href="https://developer.chrome.com/apps/match_patterns">valid wildcard patterns</a> to limit the context menu display only on a particular list of URLs.
    <br>
  </p>
  <iframe id="preview" src="blank.html"></iframe>
  <script src="index.js"></script>
</body>
</html>
